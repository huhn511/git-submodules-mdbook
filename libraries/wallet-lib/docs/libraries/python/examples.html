<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js iota">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Examples - IOTA Documentation</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../../../../../favicon.svg">
        
        
        <link rel="shortcut icon" href="../../../../../favicon.png">
        
        <link rel="stylesheet" href="../../../../../css/variables.css">
        <link rel="stylesheet" href="../../../../../css/general.css">
        <link rel="stylesheet" href="../../../../../css/chrome.css">
        
        <link rel="stylesheet" href="../../../../../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../../../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../../../../../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../../../highlight.css">
        <link rel="stylesheet" href="../../../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../../../../../open-in.css">
        
        <link rel="stylesheet" href="../../../../.././theme/custom/sidebar.css">
        

        

        <script src='../../../../../public/build/bundle.js'></script>

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "iota";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('iota')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../../../../docs/welcome.html"><strong aria-hidden="true">1.</strong> Welcome</a></li><li class="chapter-item expanded "><a href="../../../../../networks/index.html"><strong aria-hidden="true">2.</strong> Networks</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/introduction/welcome.html"><strong aria-hidden="true">2.1.</strong> Chrysalis</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/introduction/what_is_chrysalis.html"><strong aria-hidden="true">2.1.1.</strong> What is Chrysalis?</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/introduction/path_to_chrysalis.html"><strong aria-hidden="true">2.1.2.</strong> Path to Chrysalis</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/node-software/node-software.html"><strong aria-hidden="true">2.1.3.</strong> Node Software</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/libraries/overview.html"><strong aria-hidden="true">2.1.4.</strong> Libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/libraries/client.html"><strong aria-hidden="true">2.1.4.1.</strong> Client Lib</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/libraries/wallet.html"><strong aria-hidden="true">2.1.4.2.</strong> Wallet Lib</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/guides/index.html"><strong aria-hidden="true">2.1.5.</strong> Guides</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/guides/dev_guide.html"><strong aria-hidden="true">2.1.5.1.</strong> Developer</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/guides/exchange_guide.html"><strong aria-hidden="true">2.1.5.2.</strong> Exchange</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/guides/hub_guide.html"><strong aria-hidden="true">2.1.5.3.</strong> Hub Migration</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/guides/backup_security.html"><strong aria-hidden="true">2.1.5.4.</strong> Backup and Security</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/testnet.html"><strong aria-hidden="true">2.1.6.</strong> Testnet</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/rfc.html"><strong aria-hidden="true">2.1.7.</strong> Protocol RFCs</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/resources.html"><strong aria-hidden="true">2.1.8.</strong> Resources</a></li><li class="chapter-item expanded "><a href="../../../../../networks/chrysalis-docs/docs/faq.html"><strong aria-hidden="true">2.1.9.</strong> FAQ</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../../libraries/index.html"><strong aria-hidden="true">3.</strong> Libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/welcome.html"><strong aria-hidden="true">3.1.</strong> CLient Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/overview/index.html"><strong aria-hidden="true">3.1.1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/index.html"><strong aria-hidden="true">3.1.2.</strong> Libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/rust/index.html"><strong aria-hidden="true">3.1.2.1.</strong> Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/rust/getting_started.html"><strong aria-hidden="true">3.1.2.1.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/rust/examples.html"><strong aria-hidden="true">3.1.2.1.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/rust/api_reference.html"><strong aria-hidden="true">3.1.2.1.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/rust/troubleshooting.html"><strong aria-hidden="true">3.1.2.1.4.</strong> Troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/nodejs/index.html"><strong aria-hidden="true">3.1.2.2.</strong> Node.js</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/nodejs/getting_started.html"><strong aria-hidden="true">3.1.2.2.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/nodejs/examples.html"><strong aria-hidden="true">3.1.2.2.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/nodejs/api_reference.html"><strong aria-hidden="true">3.1.2.2.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/nodejs/troubleshooting.html"><strong aria-hidden="true">3.1.2.2.4.</strong> Troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/python/index.html"><strong aria-hidden="true">3.1.2.3.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/python/getting_started.html"><strong aria-hidden="true">3.1.2.3.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/python/examples.html"><strong aria-hidden="true">3.1.2.3.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/python/api_reference.html"><strong aria-hidden="true">3.1.2.3.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/libraries/python/troubleshooting.html"><strong aria-hidden="true">3.1.2.3.4.</strong> Troubleshooting</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/specs/index.html"><strong aria-hidden="true">3.1.3.</strong> Specification</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/client-lib/docs/contribute.html"><strong aria-hidden="true">3.1.4.</strong> Contribute</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/welcome.html"><strong aria-hidden="true">3.2.</strong> Wallet Library</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/overview/index.html"><strong aria-hidden="true">3.2.1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/index.html"><strong aria-hidden="true">3.2.2.</strong> Libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/rust/index.html"><strong aria-hidden="true">3.2.2.1.</strong> Rust</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/rust/getting_started.html"><strong aria-hidden="true">3.2.2.1.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/rust/examples.html"><strong aria-hidden="true">3.2.2.1.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/rust/api_reference.html"><strong aria-hidden="true">3.2.2.1.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/rust/troubleshooting.html"><strong aria-hidden="true">3.2.2.1.4.</strong> Troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/nodejs/index.html"><strong aria-hidden="true">3.2.2.2.</strong> Node.js</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/nodejs/getting_started.html"><strong aria-hidden="true">3.2.2.2.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/nodejs/examples.html"><strong aria-hidden="true">3.2.2.2.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/nodejs/api_reference.html"><strong aria-hidden="true">3.2.2.2.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/nodejs/troubleshooting.html"><strong aria-hidden="true">3.2.2.2.4.</strong> Troubleshooting</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/python/index.html"><strong aria-hidden="true">3.2.2.3.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/python/getting_started.html"><strong aria-hidden="true">3.2.2.3.1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/python/examples.html" class="active"><strong aria-hidden="true">3.2.2.3.2.</strong> Examples</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/python/api_reference.html"><strong aria-hidden="true">3.2.2.3.3.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/libraries/python/troubleshooting.html"><strong aria-hidden="true">3.2.2.3.4.</strong> Troubleshooting</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/specs/index.html"><strong aria-hidden="true">3.2.3.</strong> Specification</a></li><li class="chapter-item expanded "><a href="../../../../../libraries/wallet-lib/docs/contribute.html"><strong aria-hidden="true">3.2.4.</strong> Contribute</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/index.html"><strong aria-hidden="true">4.</strong> Node Software</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/welcome.html"><strong aria-hidden="true">4.1.</strong> HORNET</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/index.html"><strong aria-hidden="true">4.1.1.</strong> Tutorials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/1.0/index.html"><strong aria-hidden="true">4.1.1.1.</strong> IOTA 1.0</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/1.0/setup.html"><strong aria-hidden="true">4.1.1.1.1.</strong> Setup HORNET</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/1.0/private_tangle.html"><strong aria-hidden="true">4.1.1.1.2.</strong> Run a private Tangle</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/1.0/entry_node.html"><strong aria-hidden="true">4.1.1.1.3.</strong> Hosting An Entry Node</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/1.5/index.html"><strong aria-hidden="true">4.1.1.2.</strong> Chrysalis IOTA 1.5</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/1.5/build.html"><strong aria-hidden="true">4.1.1.2.1.</strong> Build HORNET</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/1.5/run.html"><strong aria-hidden="true">4.1.1.2.2.</strong> Run HORNET</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/tutorials/1.5/private_tangle.html"><strong aria-hidden="true">4.1.1.2.3.</strong> Run a private tangle</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/configuration/index.html"><strong aria-hidden="true">4.1.2.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/configuration/config.html"><strong aria-hidden="true">4.1.3.</strong> config.json</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/configuration/peering.html"><strong aria-hidden="true">4.1.4.</strong> peering.json</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/api-reference.html"><strong aria-hidden="true">4.1.5.</strong> API Reference</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/troubleshooting.html"><strong aria-hidden="true">4.1.6.</strong> Troubleshooting</a></li><li class="chapter-item expanded "><a href="../../../../../faq.html"><strong aria-hidden="true">4.1.7.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/Contribution.html"><strong aria-hidden="true">4.1.8.</strong> Contribution</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/hornet/docs/code_of_conduct.html"><strong aria-hidden="true">4.1.9.</strong> Code of Conduct</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/Bee/docs/welcome.html"><strong aria-hidden="true">4.2.</strong> Bee</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/Bee/docs/overview.html"><strong aria-hidden="true">4.2.1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/Bee/docs/node/index.html"><strong aria-hidden="true">4.2.2.</strong> Setup a Node</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/Bee/docs/contribution.html"><strong aria-hidden="true">4.2.3.</strong> Contribution</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/goshimmer.html"><strong aria-hidden="true">4.3.</strong> GoShimmer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/faq.html"><strong aria-hidden="true">4.3.1.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials.html"><strong aria-hidden="true">4.3.2.</strong> Tutorials</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/setup.html"><strong aria-hidden="true">4.3.2.1.</strong> Setting up a GoShimmer node</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/request_funds.html"><strong aria-hidden="true">4.3.2.2.</strong> Obtaining tokens from the faucet</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/wallet.html"><strong aria-hidden="true">4.3.2.3.</strong> The wallet library</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/dApp.html"><strong aria-hidden="true">4.3.2.4.</strong> Writing a dApp</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/syncbeacon.html"><strong aria-hidden="true">4.3.2.5.</strong> How to run a sync beacon</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/follow_syncbeacon.html"><strong aria-hidden="true">4.3.2.6.</strong> How to configure followed sync beacon nodes</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/static_identity.html"><strong aria-hidden="true">4.3.2.7.</strong> How to create a static identity</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/custom_dRNG.html"><strong aria-hidden="true">4.3.2.8.</strong> How to setup a custom dRNG committee</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tutorials/monitoring.html"><strong aria-hidden="true">4.3.2.9.</strong> Setting up Monitoring Dashboard</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/application_logic.html"><strong aria-hidden="true">4.3.3.</strong> Application logic</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/application_logic/protocol.html"><strong aria-hidden="true">4.3.3.1.</strong> Protocol high level overview</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/implementation_design.html"><strong aria-hidden="true">4.3.4.</strong> Implementation design</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/implementation_design/event_driven_model.html"><strong aria-hidden="true">4.3.4.1.</strong> Event driven model</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/implementation_design/packages_plugins.html"><strong aria-hidden="true">4.3.4.2.</strong> Packages and plugins</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/implementation_design/plugin.html"><strong aria-hidden="true">4.3.4.3.</strong> Plugin</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/implementation_design/configuration_parameters.html"><strong aria-hidden="true">4.3.4.4.</strong> Configuration parameters</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/implementation_design/object_storage.html"><strong aria-hidden="true">4.3.4.5.</strong> Object storage</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/api.html"><strong aria-hidden="true">4.3.5.</strong> API</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/apis/api.html"><strong aria-hidden="true">4.3.5.1.</strong> Client Lib</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/apis/webAPI.html"><strong aria-hidden="true">4.3.5.2.</strong> WebAPI</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/apis/mana.html"><strong aria-hidden="true">4.3.5.3.</strong> Mana</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/apis/dRNG.html"><strong aria-hidden="true">4.3.5.4.</strong> dRNG</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/apis/communication.html"><strong aria-hidden="true">4.3.5.5.</strong> Communication</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/apis/value.html"><strong aria-hidden="true">4.3.5.6.</strong> Value layer</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tooling.html"><strong aria-hidden="true">4.3.6.</strong> Tooling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/tooling/docker_private_network.html"><strong aria-hidden="true">4.3.6.1.</strong> Docker private network</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/specification.html"><strong aria-hidden="true">4.3.7.</strong> Specification of Implementation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/specification/001-mana.html"><strong aria-hidden="true">4.3.7.1.</strong> Mana</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/specification/003-markers.html"><strong aria-hidden="true">4.3.7.2.</strong> Markers</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/concepts.html"><strong aria-hidden="true">4.3.8.</strong> Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/concepts/glossary.html"><strong aria-hidden="true">4.3.8.1.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/concepts/layers.html"><strong aria-hidden="true">4.3.8.2.</strong> Layers</a></li></ol></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/team_resources.html"><strong aria-hidden="true">4.3.9.</strong> Team Resources</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/teamresources/release.html"><strong aria-hidden="true">4.3.9.1.</strong> How to do a release</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/teamresources/guidelines.html"><strong aria-hidden="true">4.3.9.2.</strong> Code Guidelines</a></li><li class="chapter-item expanded "><a href="../../../../../node-software/goshimmer/docs/teamresources/local_development.html"><strong aria-hidden="true">4.3.9.3.</strong> Local development</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../../../products/index.html"><strong aria-hidden="true">5.</strong> Products</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../products/stronghold/docs/welcome.html"><strong aria-hidden="true">5.1.</strong> Stronghold</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../../../products/stronghold/docs/overview/index.html"><strong aria-hidden="true">5.1.1.</strong> Overview</a></li><li class="chapter-item expanded "><a href="../../../../../products/stronghold/docs/libraries/index.html"><strong aria-hidden="true">5.1.2.</strong> Libraries</a></li><li class="chapter-item expanded "><a href="../../../../../products/stronghold/docs/specs/demo-spec.html"><strong aria-hidden="true">5.1.3.</strong> Specification</a></li><li class="chapter-item expanded "><a href="../../../../../products/stronghold/docs/contribute.html"><strong aria-hidden="true">5.1.4.</strong> Contribute</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="iota">IOTA (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">IOTA Documentation</h1>

                    <div class="right-buttons">
                        
                        <a href="../../../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/huhn511/git-submodules-mdbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="examples"><a class="header" href="#examples">Examples</a></h1>
<h2 id="account-manager-and-individual-accounts"><a class="header" href="#account-manager-and-individual-accounts">Account manager and individual accounts</a></h2>
<p>First of all, let's initialize (open) a secure storage for individual accounts (backed up by Stronghold by default) using <code>AccountManager</code> instance:</p>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0


import iota_wallet as iw
import os
from dotenv import load_dotenv


# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

account_manager = iw.AccountManager(
    storage_path='./alice-database'
)  # note: `storage` and `storage_path` have to be declared together

account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

# mnemonic (seed) should be set only for new storage
# once the storage has been initialized earlier then you should omit this step
account_manager.store_mnemonic(&quot;Stronghold&quot;)
</code></pre>
<ul>
<li>Storage is initialized under the given path (<code>./alice-database</code>)</li>
<li>Password is set (<code>password</code>)</li>
<li>Only during the initialization new database: stronghold mnemonic (seed) is automatically generated and stored by default</li>
</ul>
<p>The storage is encrypted at rest and so you need a strong password and location where to put your storage. </p>
<blockquote>
<p>Please note: deal with the password with utmost care</p>
</blockquote>
<p>Technically speaking, the storage means a single file called <code>wallet.stronghold</code>. It is also needed to generate a seed (mnemonic) that serves as a cryptographic key from which all accounts and related addresses are generated.</p>
<p>One of the key principle behind the <code>stronghold</code>-based storage is that no one can get a seed from the storage. You deal with all accounts purely via <code>Account_Manager</code> instance and all complexities are hidden under the hood and are dealt with in a secure way.</p>
<p>In case one would like to store a seed also somewhere else, there is a method <code>AccountManager.generate_mnemonic()</code> that generates random seed and it can be leveraged before the actual account initialization.</p>
<p>Please note, it is highly recommended to store <code>stronghold</code> password and <code>stronghold</code> database on separate devices.</p>
<h3 id="accounts"><a class="header" href="#accounts">Accounts</a></h3>
<p>The library uses a model of individual accounts to separate individual users/clients from each other. It is possible to generate multiple addresses for each account deterministically. </p>
<p>Please note, it is important to declare on which IOTA network should be the given account created (argument <code>node</code>).</p>
<pre><code class="language-python"># ... continue from prev example 1a

# general Tangle specific options
client_options = {
    &quot;nodes&quot;: [
        {
            &quot;url&quot;: &quot;https://api.hornet-0.testnet.chrysalis2.com&quot;,
            &quot;auth&quot;: None,
            &quot;disabled&quot;: False
        }
    ],
    &quot;local_pow&quot;: True
}

# an account is generated with the given alias via `account_initialiser`
account_initialiser = account_manager.create_account(client_options)
account_initialiser.alias('Alice')

# initialise account based via `account_initialiser`
# store it to db and sync with Tangle
account = account_initialiser.initialise()
print(f'Account created: {account.alias()}')
</code></pre>
<p>Once an account has been created you get an instance of it using the following methods: <code>get_account(account_id: str)</code> or <code>get_accounts()</code>.
An account can be then referred to via <code>index</code>, <code>alias</code> or one of its generated <code>addresses</code>. The network against which the account is active can be checked via <code>account.bech32_hrp()</code>.</p>
<p>Overview of all accounts:</p>
<pre><code class="language-python">for acc in account_manager.get_accounts():
  print(f&quot;Account alias: {acc.alias()}; network: {acc.bech32_hrp()}&quot;)
</code></pre>
<p>Get the instance of a specific account:</p>
<pre><code class="language-python">account = account_manager.get_account(&quot;Alice&quot;)
</code></pre>
<p>Several api calls can be performed via <code>account</code> instance. Note: it is a good practice to sync the given account with the Tangle every time you work with <code>account</code> instance to rely on the latest information available: <code>account.sync().execute()</code>.</p>
<p>The most common methods:</p>
<ul>
<li><code>account.alias()</code>: returns an alias of the given account</li>
<li><code>account.addresses()</code>: returns list of addresses related to the account</li>
<li><code>account.get_unused_address()</code>: returns a first unused address</li>
<li><code>account.is_latest_address_unused()</code>: it queries the Tangle and returns <code>bool</code> whether latest address was already used</li>
<li><code>account.generate_address()</code>: generate a new address for the address index incremented by 1</li>
<li><code>account.balance()</code>: returns the balance for the given account</li>
<li><code>account.sync()</code>: sync the account information with the tangle</li>
</ul>
<h2 id="generating-addresses"><a class="header" href="#generating-addresses">Generating address(es)</a></h2>
<p>Each account can posses multiple addresses. Addresses are generated deterministically based on the account and address index. It means that the combination of account and index uniquely identifies the given address.</p>
<p>Addresses are of two types: <code>internal</code> and <code>public</code> (external):</p>
<ul>
<li>each set of addresses is independent from each other and has independent <code>index</code> id</li>
<li>addresses that are created by <code>account.generate_address()</code> are indicated as <code>internal=false</code> (public)</li>
<li>internal addresses (<code>internal=true</code>) are so called <code>change</code> addresses and are used to send the excess funds to</li>
<li>the approach is also known as a <em>BIP32 Hierarchical Deterministic wallet (HD Wallet)</em>.</li>
</ul>
<p><em>Note: You may remember IOTA 1.0 network in which addresses were not reusable. It is no longer true and addresses can be reused multiple times in IOTA 1.5 (Chrysalis) network.</em></p>
<p>Addresses are generated via instance of <code>account</code> that is gotten from the <code>account_manager</code> instance:</p>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0


import iota_wallet as iw
import os
from dotenv import load_dotenv

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

# This example generates a new address.
account_manager = iw.AccountManager(
    storage_path='./alice-database'
)

account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

# get a specific instance of some account
account = account_manager.get_account('Alice')
print(f'Account: {account.alias()}')

# Always sync before doing anything with the account
print('Syncing...')
synced = account.sync().execute()

# generate new address
address = account.generate_address()
print(f'New address: {address}')

# print all addresses generated so far
print(&quot;List of addresses:&quot;)
print(account.addresses())

# You can also get the latest unused address
last_address_obj = account.latest_address()
print(f&quot;Last address: {last_address_obj['address']}&quot;)
</code></pre>
<p>Output example:</p>
<pre><code class="language-json">[{'address': {'inner': 'atoi1qzy79ew8x4hn4dsr0t3j8ce8hdwdrh8xzx85x2gkse6k0fx2jkyaqdgd2rn'},
  'balance': 0,
  'key_index': 0,
  'internal': False,
  'outputs': []},
 {'address': {'inner': 'atoi1qzht4m2jt0q50lhlqa786pcx6vardm4xj8za72fezde6tj39acatq5zh2cg'},
  'balance': 0,
  'key_index': 1,
  'internal': False,
  'outputs': []}]
</code></pre>
<p>Take a closer look at the output above and check the beginning of both addresses. As mentioned in <a href="../../welcome.html">overview chapter</a> there are two human-readable prefixes in IOTA 1.5 network: <code>iota</code> (mainnet) and <code>atoi</code> (testnet).</p>
<h2 id="checking-the-balance"><a class="header" href="#checking-the-balance">Checking the balance</a></h2>
<p>Before we continue further, go to <a href="https://faucet.testnet.chrysalis2.com/">IOTA testnet faucet service</a> and send to your testnet addresses some tokens:
<img src="screenshot_faucet.png" alt="faucet screenshot" /></p>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0


import iota_wallet as iw
import os
from dotenv import load_dotenv

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

# This example checks the account balance.
account_manager = iw.AccountManager(
    storage_path='./alice-database'
)

account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

# get a specific instance of some account
account = account_manager.get_account('Alice')
print(f'Account: {account.alias()}')

# Always sync before doing anything with the account
print('Syncing...')
synced = account.sync().execute()

# get total balance for the account
print(&quot;Total balance:&quot;)
print(account.balance())

print(&quot;Balance per individual addresses:&quot;)
print(account.addresses())
</code></pre>
<p>Output:</p>
<pre><code class="language-json">Total balance:
{'total': 10000000, 'available': 10000000, 'incoming': 10000000, 'outgoing': 0}

Balance per individual addresses:
[{'address': {'inner': 'atoi1qzy79ew8x4hn4dsr0t3j8ce8hdwdrh8xzx85x2gkse6k0fx2jkyaqdgd2rn'},
  'balance': 0,
  'key_index': 0,
  'internal': False,
  'outputs': []},
 {'address': {'inner': 'atoi1qzht4m2jt0q50lhlqa786pcx6vardm4xj8za72fezde6tj39acatq5zh2cg'},
  'balance': 10000000,
  'key_index': 1,
  'internal': False,
  'outputs': [{'transaction_id': '1c88c91fe0a8eed074b5ccdfdad52403d7908d157b231ae1ef28b0e20ba14e8e',
    'message_id': 'f1575f984f7fda6e9b3e23e96ef3304fcd0ba4ce323af3920856a427fabe1abe',
    'index': 0,
    'amount': 10000000,
    'is_spent': False,
    'address': {'inner': 'atoi1qzht4m2jt0q50lhlqa786pcx6vardm4xj8za72fezde6tj39acatq5zh2cg'}}]},
 {'address': {'inner': 'atoi1qpvnsgygzal4vkxhlc0ew7c6c6csnjr72x5rgn3txqswrsa2xfrec8v04f7'},
  'balance': 0,
  'key_index': 2,
  'internal': False,
  'outputs': []}]
</code></pre>
<p>In the detailed view per individual addresses, there is also <code>outputs</code> section that indicates transaction(s) (also known as <code>wallet message(s)</code>) &quot;responsible&quot; for the current amount. The amount can be also double checked using <a href="https://explorer.iota.org/chrysalis/addr/atoi1qzht4m2jt0q50lhlqa786pcx6vardm4xj8za72fezde6tj39acatq5zh2cg">Tangle Explorer</a>.</p>
<h2 id="sending-tokens"><a class="header" href="#sending-tokens">Sending tokens</a></h2>
<p>The process of sending tokens via <code>wallet.rs</code> can be described as follows:</p>
<ul>
<li>Create instance of <code>iota_wallet.Transfer()</code> class with the following mandatory arguments: <code>amount</code>, <code>address</code> and <code>remainder_value_strategy</code></li>
<li><code>remainder_value_strategy</code> can be: <code>ReuseAddress</code> or <code>ChangeAddress</code>. You may be familiar with a concept <code>changing address with every spent</code> in IOTA 1.0. It is not an issue in IOTA 1.5 world but it may still become handy depending on your use case</li>
<li>once instance of <code>iota_wallet.Transfer()</code> is created, it can be sent via <code>transfer()</code> function of the <code>Account</code> instance</li>
<li>needless to repeat, always sync the account information with the Tangle before do anything with the account</li>
</ul>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0


import iota_wallet as iw
import os
from dotenv import load_dotenv

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

# This example sends IOTA toens to an address.
account_manager = iw.AccountManager(
    storage_path='./alice-database'
)
account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

print(&quot;Selecting a specific account&quot;)
account = account_manager.get_account('Alice')
print(f'Account: {account.alias()} selected')

# Always sync before doing anything with the account
print('Syncing...')
synced = account.sync().execute()

print(f&quot;Available balance {account.balance()['available']}&quot;)

# TODO: Replace with the address of your choice!
transfer = iw.Transfer(
    amount=1_000_000,
    address='atoi1qzt0nhsf38nh6rs4p6zs5knqp6psgha9wsv74uajqgjmwc75ugupx3y7x0r',
    remainder_value_strategy='ReuseAddress'
)

# Propogate the Transfer to Tangle
# and get a response from the Tangle
node_response = account.transfer(transfer)
print(
    node_response
)
</code></pre>
<p>You receive an output similar to the following one:</p>
<pre><code class="language-json">{'id': '9d3c401d59b0a87f6fbaa58582bb71e1858d63336421ccbae834821d9be113d3',
 'version': 1,
 'parents': ['66009ff08637c3e74340fb9e09e30e3c4453728c857fd425df2d2e0587af6426',
  '6da392ac35f73594bf5509fb5c3304e972b36313ce98f2cc63def7cde2054b53',
  '9157b29cbffcd5c9669cf22004fbc557354e5ade7268f5bfe25fbc75ab29e3b1',
  'bfe860e09350cd3b8db90611e78e03fdda654139a4b34e68e4b1bb07528b2bef'],
 'payload_length': 233,
 'payload': {'transaction': [{'essence': {'regular': {'inputs': [{'transaction_id': '692d6660084dd3b6341ef4f761bc8b8bb27ac35bb0b352bfb030f2c80753815b',
        'index': 0,
        'metadata': {'transaction_id': '692d6660084dd3b6341ef4f761bc8b8bb27ac35bb0b352bfb030f2c80753815b',
         'message_id': 'c6284e0cc2a6383474782d4e6b6cfaf16c1831c8875cca262982782758a248c0',
         'index': 0,
         'amount': 10000000,
         'is_spent': False,
         'address': {'inner': 'atoi1qq24vlx53qdskyfw6940xa2vg55ma5egzyqv6glq23udx3e0zkmmg97cwze'}}}],
      'outputs': [{'address': 'atoi1qq24vlx53qdskyfw6940xa2vg55ma5egzyqv6glq23udx3e0zkmmg97cwze',
        'amount': 9000000},
       {'address': 'atoi1qpvnsgygzal4vkxhlc0ew7c6c6csnjr72x5rgn3txqswrsa2xfrec8v04f7',
        'amount': 1000000}],
      'payload': None}},
    'unlock_blocks': [{'signature': {'public_key': [15...&lt;TRIMMED&gt;...],
       'signature': [210...&lt;TRIMMED&gt;...]},
      'reference': None}]}],
  'milestone': None,
  'indexation': None},
 'timestamp': 1615132552,
 'nonce': 274654,
 'confirmed': None,
 'broadcasted': True,
 'incoming': False,
 'value': 1000000,
 'remainder_value': 9000000}
</code></pre>
<p>It is a <code>wallet message</code> that fully describes the given transaction.</p>
<p>Please, kindly get yourself familiar with a concept of <a href="https://chrysalis.docs.iota.org/introduction/what_is_chrysalis.html#switch-to-utxo-model">UTXO</a> to understand all aspects of messages.</p>
<p>The given message can be double checked via Tangle Explorer using <code>node_response['id']</code> field (<a href="https://explorer.iota.org/chrysalis/message/9d3c401d59b0a87f6fbaa58582bb71e1858d63336421ccbae834821d9be113d3">Tangle Explorer</a>).</p>
<p>Needless to say, if <code>remainder_value_strategy</code> == <code>ChangeAddress</code> is used, the given message transfer tokens to target address as well as new <code>internal</code> address within the given account (<code>internal=True</code>). </p>
<h3 id="reattachments"><a class="header" href="#reattachments">Reattachments</a></h3>
<p>If message reattachment is needed then <code>account_id</code> and <code>message_id</code> is passed to <code>iota_wallet.promote(account_id, message_id)</code> or <code>iota_wallet.reattach(account_id, message_id)</code>.</p>
<h3 id="list-of-messages-transactions"><a class="header" href="#list-of-messages-transactions">List of messages (transactions)</a></h3>
<p>List of all particular messages (transactions) related to the given account get be obtained via: <code>account.list_messages()</code> and related <code>account.message_count()</code>.</p>
<p>Those can be used also to check whether the given message was confirmed/broadcasted, etc. Needless to say, sync the account with the Tangle before checking confirmation status:</p>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0


import iota_wallet as iw
import os
from dotenv import load_dotenv

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

# This example sends IOTA toens to an address.
account_manager = iw.AccountManager(
    storage_path='./alice-database'
)
account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

account = account_manager.get_account('Alice')
print(f'Account: {account.alias()} selected')

# Always sync before doing anything with the account
print('Syncing...')
synced = account.sync().execute()

for ac in account.list_messages():
    print(f&quot;message {ac['id']}; confirmation status = {ac['confirmed']}'&quot;)
</code></pre>
<h3 id="dust-protection"><a class="header" href="#dust-protection">Dust protection</a></h3>
<p>Please note, there is also implemented a <a href="https://chrysalis.docs.iota.org/guides/dev_guide.html#dust-protection">dust protection</a> mechanism in the network protocol to avoid malicious actors to spam network in order to decrease node performance while keeping track of unspent amount (<code>UTXO</code>):</p>
<blockquote>
<p>&quot;... microtransaction below 1Mi of IOTA tokens [can be sent] to another address if there is already at least 1Mi on that address&quot;
That's why we did send 1Mi in the given example to comply with the protection.&quot;</p>
</blockquote>
<h2 id="backup-database"><a class="header" href="#backup-database">Backup database</a></h2>
<p>Underlying database (provided by <code>Stronghold</code> by default) is encrypted at rest and there is no way how to get a seed from it due to security practices that are incorporated in the Stronghold's DNA. It means you are dealing with the database as an atomic unit that includes all wallet information.</p>
<p>So backing up the database is very important task from this respect.</p>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0


import iota_wallet as iw
import os
from dotenv import load_dotenv

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

# This example backups your data in a secure file.
# You can move this file to another app or device and restore it.
account_manager = iw.AccountManager(
    storage_path='./alice-database'
)
account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

backup_dir_path = './backup'
if not os.path.exists(backup_dir_path):
    os.makedirs(backup_dir_path)
backup_file_path = account_manager.backup(backup_dir_path, STRONGHOLD_PASSWORD)

print(f'Backup path: {backup_file_path}')
</code></pre>
<p>Output:</p>
<pre><code class="language-plaintext">Backup path: ./backup/2021-03-07T18-24-06-iota-wallet-backup-wallet.stronghold
</code></pre>
<h2 id="restore-database"><a class="header" href="#restore-database">Restore database</a></h2>
<p>The process of restoring underlying database via <code>wallet.rs</code> can be described as follows:</p>
<ul>
<li>create new empty database with a password (without mnemonic [seed])</li>
<li>import all accounts from the file that has been backed up earlier</li>
</ul>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0


import iota_wallet as iw
import os
from dotenv import load_dotenv

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

# This example restores a secured backup file.
account_manager = iw.AccountManager(
    storage_path='./alice-database-restored'
)

# NOTE: In real use cases you need to set the password in a safer way, like getting it from env variables
account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

#  Add the path to the file from example 5-backup.js
#  for example: ./backup/2021-03-04T15-31-04-iota-wallet-backup-wallet.stronghold
backup_file_path = r'./backup/2021-03-31T14-45-23-iota-wallet-backup-wallet.stronghold'

# NOTE: In real use cases you need to set the password in a safer way, like getting it from env variables
account_manager.import_accounts(backup_file_path, STRONGHOLD_PASSWORD)
account = account_manager.get_account('Alice')
print(f'Account: {account.alias()}')
</code></pre>
<p>Since the backup file is just a copy of the original database it can be alternatively also renamed to <code>wallet.stronghold</code> and opened in a standard way:</p>
<pre><code class="language-python">account_manager = iw.AccountManager(
    storage_path='./alice-database'
)
account_manager.set_stronghold_password(&quot;password&quot;)
</code></pre>
<h2 id="listening-to-events"><a class="header" href="#listening-to-events">Listening to events</a></h2>
<p><code>Wallet.rs</code> also supports asynchronous event listeners to be listened to. In the python binding it is currently implemented in a way the provided callback is executed as soon as the event is triggered; <code>event</code> details are passed as an argument to the callback method. <em>No coroutines (async/await) are implemented in the python binding.</em></p>
<p>There are following event listeners supported:</p>
<ul>
<li><code>on_balance_change(callback): id</code></li>
<li><code>on_new_transaction(callback): id</code></li>
<li><code>on_confirmation_state_change(callback): id</code></li>
<li><code>on_reattachment(callback): id</code></li>
<li><code>on_broadcast(callback): id</code></li>
<li><code>on_error(callback): id</code></li>
<li><code>on_stronghold_status_change(callback): id</code></li>
</ul>
<p>When the event listener is registered by calling function above, it returns <code>id</code> of the listener as a <code>list[Bytes]</code>. This <code>id</code> can be then leveraged to deregister the given listener:</p>
<ul>
<li><code>remove_balance_change_listener(id)</code></li>
<li><code>remove_new_transaction_listener(id)</code></li>
<li><code>remove_confirmation_state_change_listener(id)</code></li>
<li><code>remove_reattachment_listener(id)</code></li>
<li><code>remove_broadcast_listener(id)</code></li>
<li><code>remove_error_listener(id)</code></li>
<li><code>remove_stronghold_status_change_listener(id)</code></li>
</ul>
<p>Example of listening to <code>on_balance_change</code> via simple event-based pattern in python:</p>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0

import threading
import time
import iota_wallet as iw
import os
from dotenv import load_dotenv

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

result_available = threading.Event()


def balance_changed_event_processing(event):
    print(f'On balanced changed: {event}')
    result_available.set()


# This example shows some events.
account_manager = iw.AccountManager(
    storage_path='./alice-database'
)

# NOTE: In real use cases you need to set the password in a safer way, like getting it from env variables
account_manager.set_stronghold_password(STRONGHOLD_PASSWORD)

account = account_manager.get_account('Alice')
print(f'Account: {account.alias()}')

# Always sync before doing anything with the account
print('Syncing...')
synced = account.sync().execute()

# Get the latest unused address
last_address_obj = account.latest_address()
print(f&quot;Address: {last_address_obj['address']}&quot;)

# Use the Chrysalis Faucet to send testnet tokens to your address:
print('Fill your address with the Faucet: https://faucet.tanglekit.de/')

iw.on_balance_change(balance_changed_event_processing)
print(&quot;Waiting for external event (on_balance_changed)...&quot;)

# wait for results to be available before continue
# will not wait longer than 360 seconds
result_available.wait(timeout=360)

print(&quot;Done.&quot;)
</code></pre>
<p>Output:</p>
<pre><code class="language-plaintext">Account: Alice
Syncing...
Address: {'inner': 'atoi1qquszp0hzfsrgx4vx58dfg4v6eh20d2k3ddfgg9dt5778c2egc9uyw7g457'}
Fill your address with the Faucet: https://faucet.testnet.chrysalis2.com/
Waiting for external event (on_balance_changed)...
On balanced changed: {&quot;indexationId&quot;:&quot;c3a7a1ab8ba78460954223a704693d088ddd0388681ac6cc1dd964a388d1a619&quot;,&quot;accountId&quot;:&quot;wallet-account://e51a6285ea2d8cbdf5b6da2b85a8344f619d798d869ef4fb88c5fac0e653d6cc&quot;,&quot;address&quot;:&quot;atoi1qquszp0hzfsrgx4vx58dfg4v6eh20d2k3ddfgg9dt5778c2egc9uyw7g457&quot;,&quot;balanceChange&quot;:{&quot;spent&quot;:0,&quot;received&quot;:10000000}}
Done.
</code></pre>
<p>Alternatively it can be consumed via queue-base pattern:</p>
<pre><code class="language-python"># Copyright 2020 IOTA Stiftung
# SPDX-License-Identifier: Apache-2.0


import iota_wallet
import threading
import queue
import time
import os
from dotenv import load_dotenv

# Load the env variables
load_dotenv()

# Get the stronghold password
STRONGHOLD_PASSWORD = os.getenv('STRONGHOLD_PASSWORD')

# This example shows how to listen to on_balance_change event.

# The queue to store received events
q = queue.Queue()


def worker():
    &quot;&quot;&quot;The worker to process the queued events.
    &quot;&quot;&quot;
    while True:
        item = q.get(True)
        print(f'Get event: {item}')
        q.task_done()


def balance_changed_event_processing(event):
    &quot;&quot;&quot;Processing function when event is received.
    &quot;&quot;&quot;
    print(f'On balanced changed: {event}')
    q.put(event)


# Get the acount manager
manager = iota_wallet.AccountManager(
    storage_path='./alice-database')

# NOTE: In real use cases you need to set the password in a safer way, like getting it from env variables
manager.set_stronghold_password(STRONGHOLD_PASSWORD)

# Get the account
account = manager.get_account('Alice')
print(f'Account: {account.alias()}')

# Always sync before doing anything with the account
print('Syncing...')
synced = account.sync().execute()

# Get the latest unused address
last_address_obj = account.latest_address()
print(f&quot;Address: {last_address_obj['address']}&quot;)

# turn-on the worker thread
threading.Thread(target=worker, daemon=True).start()

# listen to the on_balance_change event
iota_wallet.on_balance_change(balance_changed_event_processing)

# Use the Chrysalis Faucet to send testnet tokens to your address:
print(
    f&quot;Fill your Address ({last_address_obj['address']['inner']}) with the Faucet: https://faucet.tanglekit.de/&quot;)
print(&quot;To see how the on_balance_change is called, please send tokens to the address in 1 min&quot;)
time.sleep(60)

# block until all tasks are done
q.join()
print('All work completed')
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../../../../../libraries/wallet-lib/docs/libraries/python/getting_started.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../../../../../libraries/wallet-lib/docs/libraries/python/api_reference.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../../../../../libraries/wallet-lib/docs/libraries/python/getting_started.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../../../../../libraries/wallet-lib/docs/libraries/python/api_reference.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../../../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../../../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="../../../../.././theme/custom/sidebar.js"></script>
        

        

    </body>
</html>
